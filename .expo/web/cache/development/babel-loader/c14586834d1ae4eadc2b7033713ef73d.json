{"ast":null,"code":"import { GET_PROFILE, REMOVE_PROFILE, SET_LOADER } from \"./types\";\nimport { tokenConfig } from \"./auth\";\nimport axios from 'axios';\nexport var getProfile = function getProfile(user) {\n  return function (dispatch, getState) {\n    var payload = {\n      user: user\n    };\n    var one = axios.get('/api/profile/', tokenConfig(getState, payload));\n    var two = axios.get('/api/me-like/', tokenConfig(getState, payload));\n    var three = axios.get('/api/me-count/', tokenConfig(getState, payload));\n    var four = axios.get('/api/profile-posts/', tokenConfig(getState, payload));\n    dispatch({\n      type: SET_LOADER\n    });\n    axios.all([one, two, three, four]).then(axios.spread(function () {\n      for (var _len = arguments.length, responses = new Array(_len), _key = 0; _key < _len; _key++) {\n        responses[_key] = arguments[_key];\n      }\n\n      var payload = {\n        user: responses[0].data,\n        likes: responses[1].data,\n        count: responses[2].data,\n        posts: responses[3].data\n      };\n      dispatch({\n        type: GET_PROFILE,\n        payload: payload\n      });\n      dispatch({\n        type: SET_LOADER\n      });\n    })).catch(function (errors) {\n      console.log(error);\n      dispatch({\n        type: SET_LOADER\n      });\n    });\n  };\n};\nexport var removeProfile = function removeProfile() {\n  return function (dispatch) {\n    dispatch({\n      type: REMOVE_PROFILE\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/anthi/Documents/GitHub/cap/redux/actions/profiles.js"],"names":["GET_PROFILE","REMOVE_PROFILE","SET_LOADER","tokenConfig","axios","getProfile","user","dispatch","getState","payload","one","get","two","three","four","type","all","then","spread","responses","data","likes","count","posts","catch","errors","console","log","error","removeProfile"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,cAAtB,EAAsCC,UAAtC;AACA,SAASC,WAAT;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD;AAAA,SAAU,UAACC,QAAD,EAAWC,QAAX,EAAuB;AAGvD,QAAMC,OAAO,GAAG;AAACH,MAAAA,IAAI,EAAGA;AAAR,KAAhB;AACA,QAAMI,GAAG,GAAGN,KAAK,CAACO,GAAN,CAAU,eAAV,EAA2BR,WAAW,CAACK,QAAD,EAAWC,OAAX,CAAtC,CAAZ;AACA,QAAMG,GAAG,GAAGR,KAAK,CAACO,GAAN,CAAU,eAAV,EAA2BR,WAAW,CAACK,QAAD,EAAWC,OAAX,CAAtC,CAAZ;AACA,QAAMI,KAAK,GAAGT,KAAK,CAACO,GAAN,CAAU,gBAAV,EAA4BR,WAAW,CAACK,QAAD,EAAWC,OAAX,CAAvC,CAAd;AACA,QAAMK,IAAI,GAAGV,KAAK,CAACO,GAAN,CAAU,qBAAV,EAAiCR,WAAW,CAACK,QAAD,EAAWC,OAAX,CAA5C,CAAb;AACAF,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEb;AADD,KAAD,CAAR;AAIAE,IAAAA,KAAK,CAACY,GAAN,CAAU,CAACN,GAAD,EAAME,GAAN,EAAWC,KAAX,EAAkBC,IAAlB,CAAV,EACCG,IADD,CACMb,KAAK,CAACc,MAAN,CAAa,YAAkB;AAAA,wCAAdC,SAAc;AAAdA,QAAAA,SAAc;AAAA;;AACjC,UAAMV,OAAO,GAAG;AACZH,QAAAA,IAAI,EAAEa,SAAS,CAAC,CAAD,CAAT,CAAaC,IADP;AAEZC,QAAAA,KAAK,EAAEF,SAAS,CAAC,CAAD,CAAT,CAAaC,IAFR;AAGZE,QAAAA,KAAK,EAAEH,SAAS,CAAC,CAAD,CAAT,CAAaC,IAHR;AAIZG,QAAAA,KAAK,EAAEJ,SAAS,CAAC,CAAD,CAAT,CAAaC;AAJR,OAAhB;AAMAb,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAEf,WADD;AAELS,QAAAA,OAAO,EAAEA;AAFJ,OAAD,CAAR;AAIAF,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAEb;AADD,OAAD,CAAR;AAGD,KAdG,CADN,EAeMsB,KAfN,CAeY,UAAAC,MAAM,EAAI;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACArB,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAEb;AADD,OAAD,CAAR;AAGD,KApBH;AAsBH,GAlCyB;AAAA,CAAnB;AAoCP,OAAO,IAAM2B,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAM,UAACtB,QAAD,EAAa;AAC5CA,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAEd;AADD,KAAD,CAAR;AAGH,GAJ4B;AAAA,CAAtB","sourcesContent":["import { GET_PROFILE, REMOVE_PROFILE, SET_LOADER } from './types';\r\nimport { tokenConfig } from './auth';\r\nimport axios from 'axios';\r\n\r\nexport const getProfile = (user) => (dispatch, getState) =>{\r\n\r\n\r\n    const payload = {user : user}\r\n    const one = axios.get('/api/profile/', tokenConfig(getState, payload))\r\n    const two = axios.get('/api/me-like/', tokenConfig(getState, payload))\r\n    const three = axios.get('/api/me-count/', tokenConfig(getState, payload))\r\n    const four = axios.get('/api/profile-posts/', tokenConfig(getState, payload))\r\n    dispatch({\r\n        type: SET_LOADER\r\n      });\r\n\r\n    axios.all([one, two, three, four])\r\n    .then(axios.spread((...responses) => {\r\n        const payload = {\r\n            user: responses[0].data,\r\n            likes: responses[1].data,\r\n            count: responses[2].data,\r\n            posts: responses[3].data\r\n        }\r\n        dispatch({\r\n            type: GET_PROFILE,\r\n            payload: payload\r\n        });\r\n        dispatch({\r\n            type: SET_LOADER\r\n          });\r\n      })).catch(errors => {\r\n        console.log(error)\r\n        dispatch({\r\n            type: SET_LOADER\r\n          });\r\n      })\r\n\r\n}\r\n\r\nexport const removeProfile = () => (dispatch) =>{\r\n    dispatch({\r\n        type: REMOVE_PROFILE\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}