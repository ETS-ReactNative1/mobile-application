{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\anthi\\\\Documents\\\\GitHub\\\\cap\\\\screens\\\\UserScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Avatar, Text } from 'react-native-elements';\nimport Colors from \"../constants/Colors\";\nimport Fonts from \"../constants/Fonts\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Layout from \"../constants/Layout\";\nimport { roundToTwo } from \"../constants/Utils\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport CustomModal from \"../components/CustomModal\";\nimport Menu from \"../components/Menu\";\nimport { vibratePhone } from \"../constants/Utils\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permissions from 'expo-permissions';\nimport Constants from 'expo-constants';\nimport { changeProfilePic as cPP } from \"../redux/actions/auth\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nvar _Layout$window = Layout.window,\n    width = _Layout$window.width,\n    height = _Layout$window.height;\n\nvar UserScreen = function UserScreen(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      item = _useState2[0],\n      setItem = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fullView = _useState4[0],\n      setFullView = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      seeOptions = _useState6[0],\n      setSeeOptions = _useState6[1];\n\n  var close_modal = function close_modal() {\n    setSeeOptions(false);\n  };\n\n  var posts = useSelector(function (state) {\n    return state.items.items;\n  });\n  var user = useSelector(function (state) {\n    return state.auth.user;\n  });\n  var count = useSelector(function (state) {\n    return state.mis.count;\n  });\n  var likes = useSelector(function (state) {\n    return state.mis.likes;\n  });\n  var navigation = props.navigation;\n  var dispatch = useDispatch();\n\n  var changeProfilePic = function changeProfilePic() {\n    var _await$Permissions$as, status, result;\n\n    return _regeneratorRuntime.async(function changeProfilePic$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n          case 2:\n            _await$Permissions$as = _context.sent;\n            status = _await$Permissions$as.status;\n\n            if (!(status != 'granted')) {\n              _context.next = 8;\n              break;\n            }\n\n            alert('required');\n            _context.next = 19;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            console.log('here');\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true\n            }));\n\n          case 12:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              dispatch(cPP(result.uri));\n            }\n\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](8);\n            console.log(_context.t0);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[8, 16]], Promise);\n  };\n\n  if (!user) {\n    return null;\n  }\n\n  var redirect = function redirect(wURL, user) {\n    setFullView(false);\n    setSeeOptions(false);\n\n    if (wURL) {\n      navigation.navigate('Website', {\n        webName: wURL\n      });\n    } else {\n      navigation.navigate('Profile', {\n        user_id: user\n      });\n    }\n  };\n\n  return React.createElement(LinearGradient, {\n    style: {\n      flex: 1\n    },\n    colors: Colors.userGradient,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, React.createElement(CustomModal, {\n    item: item,\n    isVisible: fullView,\n    onBackButtonPress: function onBackButtonPress() {\n      setFullView(false);\n    },\n    onBackdropPress: function onBackdropPress() {\n      setFullView(false);\n    },\n    redirect: redirect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), React.createElement(Menu, {\n    item: item,\n    cm: close_modal,\n    useNativeDriver: true,\n    isVisible: seeOptions,\n    onBackButtonPress: function onBackButtonPress() {\n      setSeeOptions(false);\n    },\n    onBackdropPress: function onBackdropPress() {\n      setSeeOptions(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.user,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.pic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: changeProfilePic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, React.createElement(Avatar, {\n    source: {\n      uri: user.image\n    },\n    showEditButton: true,\n    rounded: true,\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }))), React.createElement(View, {\n    style: styles.info,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.name_text,\n    numberOfLines: 1,\n    ellipsizeMode: \"tail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, user.name)), React.createElement(View, {\n    style: styles.count,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.c,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.subtext,\n    numberOfLines: 1,\n    ellipsizeMode: \"tail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, count ? count : 0), React.createElement(Text, {\n    style: styles.subtext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Posts\")), React.createElement(View, {\n    style: styles.c,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.subtext,\n    numberOfLines: 1,\n    ellipsizeMode: \"tail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, likes ? likes : 0), React.createElement(Text, {\n    style: styles.subtext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, \"Likes\"))))), React.createElement(View, {\n    style: styles.additional,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.subtext,\n    numberOfLines: 1,\n    ellipsizeMode: \"tail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Born on: \", user.dob), React.createElement(Text, {\n    style: styles.subtext,\n    numberOfLines: 1,\n    ellipsizeMode: \"tail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Member since: \", user.date_joined.slice(0, 10))), React.createElement(View, {\n    style: styles.posts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: posts,\n    numColumns: 2,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          setItem(item);\n          setFullView(true);\n        },\n        onLongPress: function onLongPress() {\n          setItem(item);\n          setSeeOptions(true);\n          vibratePhone(100);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 18\n        }\n      }, React.createElement(View, {\n        style: styles.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: styles.web_name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.title,\n        numberOfLines: 1,\n        ellipsizeMode: \"tail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 29\n        }\n      }, item.web_url)), React.createElement(View, {\n        style: styles.rating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }, roundToTwo(item.total_rating_value)))));\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.post_id;\n    },\n    contentContainerStyle: {\n      flexDirection: 'column'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  })), React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 1\n    }\n  }), React.createElement(Message, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 1\n    }\n  }));\n};\n\nexport default UserScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: \"center\"\n  },\n  card: {\n    width: width * 0.42,\n    height: height * 0.12,\n    borderRadius: 5,\n    backgroundColor: Colors.background,\n    margin: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignContent: 'center',\n    overflow: 'hidden',\n    padding: 5\n  },\n  web_name: {\n    flex: 0.5,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  rating: {\n    flex: 0.5,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  title: {\n    color: Colors.content,\n    fontSize: 13,\n    fontFamily: Fonts.text\n  },\n  user: {\n    flex: 0.2,\n    flexDirection: 'row'\n  },\n  posts: {\n    flex: 0.7,\n    alignItems: 'center'\n  },\n  additional: {\n    flex: 0.1,\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    flexDirection: 'row'\n  },\n  pic: {\n    flex: 0.3,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  info: {\n    flex: 0.7,\n    alignItems: 'center',\n    justifyContent: 'space-evenly'\n  },\n  name_text: {\n    color: Colors.content,\n    fontSize: 20\n  },\n  count: {\n    flexDirection: 'row'\n  },\n  c: {\n    flex: 0.5,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  subtext: {\n    color: Colors.content,\n    fontSize: 15\n  },\n  value: {\n    color: Colors.textMuted\n  }\n});","map":{"version":3,"sources":["C:/Users/anthi/Documents/GitHub/cap/screens/UserScreen.js"],"names":["React","useEffect","useState","Avatar","Text","Colors","Fonts","useDispatch","useSelector","Layout","roundToTwo","LinearGradient","CustomModal","Menu","vibratePhone","ImagePicker","Permissions","Constants","changeProfilePic","cPP","Loader","Message","window","width","height","UserScreen","props","item","setItem","fullView","setFullView","seeOptions","setSeeOptions","close_modal","posts","state","items","user","auth","count","mis","likes","navigation","dispatch","askAsync","CAMERA_ROLL","status","alert","console","log","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","result","cancelled","uri","redirect","wURL","navigate","webName","user_id","flex","userGradient","styles","pic","image","info","name","name_text","c","subtext","additional","dob","date_joined","slice","card","web_name","title","web_url","rating","value","total_rating_value","post_id","flexDirection","StyleSheet","create","container","flexWrap","justifyContent","borderRadius","backgroundColor","background","margin","alignItems","alignContent","overflow","padding","color","content","fontSize","fontFamily","text","textMuted"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;AAEA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,uBAA7B;AACA,OAAOC,MAAP;AACA,OAAOC,KAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,MAAP;AACA,SAASC,UAAT;AACA,SAASC,cAAT,QAA+B,sBAA/B;AACA,OAAOC,WAAP;AACA,OAAOC,IAAP;AACA,SAASC,YAAT;AACA,OAAQ,KAAKC,WAAb,MAA8B,mBAA9B;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,SAASC,gBAAgB,IAAIC,GAA7B;AACA,OAAOC,MAAP;AACA,OAAOC,OAAP;qBAC0BZ,MAAM,CAACa,M;IAAzBC,K,kBAAAA,K;IAAOC,M,kBAAAA,M;;AAEf,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAAA,kBAEFxB,QAAQ,CAAC,IAAD,CAFN;AAAA;AAAA,MAEnByB,IAFmB;AAAA,MAEbC,OAFa;;AAAA,mBAGM1B,QAAQ,CAAC,KAAD,CAHd;AAAA;AAAA,MAGnB2B,QAHmB;AAAA,MAGTC,WAHS;;AAAA,mBAIU5B,QAAQ,CAAC,KAAD,CAJlB;AAAA;AAAA,MAInB6B,UAJmB;AAAA,MAIPC,aAJO;;AAK1B,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAACD,IAAAA,aAAa,CAAC,KAAD,CAAb;AAAqB,GAAhD;;AACA,MAAME,KAAK,GAAG1B,WAAW,CAAC,UAAA2B,KAAK;AAAA,WAAIA,KAAK,CAACC,KAAN,CAAYA,KAAhB;AAAA,GAAN,CAAzB;AACA,MAAMC,IAAI,GAAG7B,WAAW,CAAC,UAAA2B,KAAK;AAAA,WAAIA,KAAK,CAACG,IAAN,CAAWD,IAAf;AAAA,GAAN,CAAxB;AACA,MAAME,KAAK,GAAG/B,WAAW,CAAC,UAAA2B,KAAK;AAAA,WAAIA,KAAK,CAACK,GAAN,CAAUD,KAAd;AAAA,GAAN,CAAzB;AACA,MAAME,KAAK,GAAGjC,WAAW,CAAC,UAAA2B,KAAK;AAAA,WAAIA,KAAK,CAACK,GAAN,CAAUC,KAAd;AAAA,GAAN,CAAzB;AAT0B,MAUnBC,UAVmB,GAULhB,KAVK,CAUnBgB,UAVmB;AAW1B,MAAMC,QAAQ,GAAGpC,WAAW,EAA5B;;AAEA,MAAMW,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACQF,WAAW,CAAC4B,QAAZ,CAAqB5B,WAAW,CAAC6B,WAAjC,CADR;;AAAA;AAAA;AACTC,YAAAA,MADS,yBACTA,MADS;;AAAA,kBAEdA,MAAM,IAAI,SAFI;AAAA;AAAA;AAAA;;AAGbC,YAAAA,KAAK,CAAC,UAAD,CAAL;AAHa;AAAA;;AAAA;AAAA;AAOTC,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAPS;AAAA,6CAQUlC,WAAW,CAACmC,uBAAZ,CAAoC;AACnDC,cAAAA,UAAU,EAAEpC,WAAW,CAACqC,gBAAZ,CAA6BC,GADU;AAEnDC,cAAAA,aAAa,EAAE;AAFoC,aAApC,CARV;;AAAA;AAQLC,YAAAA,MARK;;AAYT,gBAAG,CAACA,MAAM,CAACC,SAAX,EAAqB;AACjBb,cAAAA,QAAQ,CAACxB,GAAG,CAACoC,MAAM,CAACE,GAAR,CAAJ,CAAR;AACH;;AAdQ;AAAA;;AAAA;AAAA;AAAA;AAiBTT,YAAAA,OAAO,CAACC,GAAR;;AAjBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzB;;AAuBA,MAAG,CAACZ,IAAJ,EAAS;AACL,WAAO,IAAP;AACH;;AACD,MAAMqB,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAOtB,IAAP,EAAgB;AAC7BP,IAAAA,WAAW,CAAC,KAAD,CAAX;AACAE,IAAAA,aAAa,CAAC,KAAD,CAAb;;AACA,QAAG2B,IAAH,EACA;AAACjB,MAAAA,UAAU,CAACkB,QAAX,CAAoB,SAApB,EAA+B;AAACC,QAAAA,OAAO,EAACF;AAAT,OAA/B;AAA+C,KADhD,MAGA;AAACjB,MAAAA,UAAU,CAACkB,QAAX,CAAoB,SAApB,EAA+B;AAACE,QAAAA,OAAO,EAACzB;AAAT,OAA/B;AAA+C;AACnD,GAPD;;AASA,SACI,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAE;AAAC0B,MAAAA,IAAI,EAAC;AAAN,KAAvB;AAAiC,IAAA,MAAM,EAAE1D,MAAM,CAAC2D,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,WAAD;AACA,IAAA,IAAI,EAAErC,IADN;AAEA,IAAA,SAAS,EAAEE,QAFX;AAGA,IAAA,iBAAiB,EAAE,6BAAI;AAACC,MAAAA,WAAW,CAAC,KAAD,CAAX;AAAmB,KAH3C;AAIA,IAAA,eAAe,EAAE,2BAAI;AAACA,MAAAA,WAAW,CAAC,KAAD,CAAX;AAAmB,KAJzC;AAKA,IAAA,QAAQ,EAAE4B,QALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAQA,oBAAC,IAAD;AACA,IAAA,IAAI,EAAE/B,IADN;AAEA,IAAA,EAAE,EAAEM,WAFJ;AAGA,IAAA,eAAe,EAAE,IAHjB;AAIA,IAAA,SAAS,EAAEF,UAJX;AAKA,IAAA,iBAAiB,EAAE,6BAAI;AAACC,MAAAA,aAAa,CAAC,KAAD,CAAb;AAAqB,KAL7C;AAMA,IAAA,eAAe,EAAE,2BAAI;AAACA,MAAAA,aAAa,CAAC,KAAD,CAAb;AAAqB,KAN3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARA,EAgBA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEiC,MAAM,CAAC5B,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE4B,MAAM,CAACC,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEhD,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,MAAD;AACI,IAAA,MAAM,EAAE;AACJuC,MAAAA,GAAG,EAAEpB,IAAI,CAAC8B;AADN,KADZ;AAII,IAAA,cAAc,MAJlB;AAKI,IAAA,OAAO,MALX;AAMI,IAAA,IAAI,EAAC,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADA,CADJ,EAaI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEF,MAAM,CAACG,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACI,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEJ,MAAM,CAACK,SAApB;AAA+B,IAAA,aAAa,EAAE,CAA9C;AAAiD,IAAA,aAAa,EAAC,MAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuEjC,IAAI,CAACgC,IAA5E,CADJ,CADJ,EAII,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEJ,MAAM,CAAC1B,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE0B,MAAM,CAACM,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEN,MAAM,CAACO,OAApB;AAA6B,IAAA,aAAa,EAAE,CAA5C;AAA+C,IAAA,aAAa,EAAC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqEjC,KAAK,GAAEA,KAAF,GAAS,CAAnF,CADA,EAEA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE0B,MAAM,CAACO,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFA,CADJ,EAKI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAACM,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEN,MAAM,CAACO,OAApB;AAA6B,IAAA,aAAa,EAAE,CAA5C;AAA+C,IAAA,aAAa,EAAC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqE/B,KAAK,GAAEA,KAAF,GAAQ,CAAlF,CADA,EAEA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEwB,MAAM,CAACO,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFA,CALJ,CAJJ,CAbJ,CAhBA,EA6CA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAACQ,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAER,MAAM,CAACO,OAApB;AAA6B,IAAA,aAAa,EAAE,CAA5C;AAA+C,IAAA,aAAa,EAAC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA8EnC,IAAI,CAACqC,GAAnF,CADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAET,MAAM,CAACO,OAApB;AAA6B,IAAA,aAAa,EAAE,CAA5C;AAA+C,IAAA,aAAa,EAAC,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAmFnC,IAAI,CAACsC,WAAL,CAAiBC,KAAjB,CAAuB,CAAvB,EAAyB,EAAzB,CAAnF,CAFJ,CA7CA,EAiDA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEX,MAAM,CAAC/B,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGA,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEA,KAAhB;AAAuB,IAAA,UAAU,EAAE,CAAnC;AACQ,IAAA,UAAU,EAAE;AAAA,UAAEP,IAAF,QAAEA,IAAF;AAAA,aACX,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,mBAAI;AAAEC,UAAAA,OAAO,CAACD,IAAD,CAAP;AAAeG,UAAAA,WAAW,CAAC,IAAD,CAAX;AAAoB,SAApE;AAAsE,QAAA,WAAW,EAAE,uBAAI;AAAEF,UAAAA,OAAO,CAACD,IAAD,CAAP;AAAeK,UAAAA,aAAa,CAAC,IAAD,CAAb;AAAqBlB,UAAAA,YAAY,CAAC,GAAD,CAAZ;AAAmB,SAAhJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEmD,MAAM,CAACY,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEZ,MAAM,CAACa,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEb,MAAM,CAACc,KAApB;AAA2B,QAAA,aAAa,EAAE,CAA1C;AAA6C,QAAA,aAAa,EAAC,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmEpD,IAAI,CAACqD,OAAxE,CADJ,CADJ,EAII,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEf,MAAM,CAACgB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhB,MAAM,CAACiB,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4BxE,UAAU,CAACiB,IAAI,CAACwD,kBAAN,CAAtC,CADJ,CAJJ,CADH,CADW;AAAA,KADpB;AAaQ,IAAA,YAAY,EAAE,sBAAAxD,IAAI;AAAA,aAAIA,IAAI,CAACyD,OAAT;AAAA,KAb1B;AAcQ,IAAA,qBAAqB,EAAE;AAACC,MAAAA,aAAa,EAAE;AAAhB,KAd/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHA,CAjDA,EAuER,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvEQ,EAwER,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxEQ,CADJ;AA4EH,CA5HD;;AA8HA,eAAe5D,UAAf;AAGA,IAAMwC,MAAM,GAAGqB,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,SAAS,EAAE;AACTzB,IAAAA,IAAI,EAAE,CADG;AAETsB,IAAAA,aAAa,EAAE,KAFN;AAGTI,IAAAA,QAAQ,EAAE,MAHD;AAITC,IAAAA,cAAc,EAAE;AAJP,GADkB;AAO7Bb,EAAAA,IAAI,EAAE;AACHtD,IAAAA,KAAK,EAAEA,KAAK,GAAC,IADV;AAEHC,IAAAA,MAAM,EAAEA,MAAM,GAAC,IAFZ;AAGHmE,IAAAA,YAAY,EAAE,CAHX;AAIHC,IAAAA,eAAe,EAAEvF,MAAM,CAACwF,UAJrB;AAKHC,IAAAA,MAAM,EAAE,EALL;AAMHC,IAAAA,UAAU,EAAE,QANT;AAOHL,IAAAA,cAAc,EAAE,QAPb;AAQHM,IAAAA,YAAY,EAAE,QARX;AASHC,IAAAA,QAAQ,EAAE,QATP;AAUHC,IAAAA,OAAO,EAAC;AAVL,GAPuB;AAmB7BpB,EAAAA,QAAQ,EAAE;AACNf,IAAAA,IAAI,EAAC,GADC;AAENgC,IAAAA,UAAU,EAAE,QAFN;AAGPL,IAAAA,cAAc,EAAE;AAHT,GAnBmB;AAwB7BT,EAAAA,MAAM,EAAE;AACJlB,IAAAA,IAAI,EAAC,GADD;AAEJgC,IAAAA,UAAU,EAAE,QAFR;AAGLL,IAAAA,cAAc,EAAE;AAHX,GAxBqB;AA6B7BX,EAAAA,KAAK,EAAE;AACHoB,IAAAA,KAAK,EAAC9F,MAAM,CAAC+F,OADV;AAEHC,IAAAA,QAAQ,EAAE,EAFP;AAGHC,IAAAA,UAAU,EAAEhG,KAAK,CAACiG;AAHf,GA7BsB;AAkC7BlE,EAAAA,IAAI,EAAC;AACD0B,IAAAA,IAAI,EAAC,GADJ;AAEDsB,IAAAA,aAAa,EAAE;AAFd,GAlCwB;AAsC7BnD,EAAAA,KAAK,EAAC;AACF6B,IAAAA,IAAI,EAAC,GADH;AAEFgC,IAAAA,UAAU,EAAE;AAFV,GAtCuB;AA0C7BtB,EAAAA,UAAU,EAAC;AACPV,IAAAA,IAAI,EAAE,GADC;AAEPgC,IAAAA,UAAU,EAAE,QAFL;AAGPL,IAAAA,cAAc,EAAE,cAHT;AAIPL,IAAAA,aAAa,EAAE;AAJR,GA1CkB;AAgD7BnB,EAAAA,GAAG,EAAE;AACDH,IAAAA,IAAI,EAAE,GADL;AAEDgC,IAAAA,UAAU,EAAE,QAFX;AAGDL,IAAAA,cAAc,EAAE;AAHf,GAhDwB;AAqD7BtB,EAAAA,IAAI,EAAC;AACDL,IAAAA,IAAI,EAAC,GADJ;AAEDgC,IAAAA,UAAU,EAAE,QAFX;AAGDL,IAAAA,cAAc,EAAE;AAHf,GArDwB;AA0D7BpB,EAAAA,SAAS,EAAE;AACP6B,IAAAA,KAAK,EAAC9F,MAAM,CAAC+F,OADN;AAEPC,IAAAA,QAAQ,EAAE;AAFH,GA1DkB;AA8D7B9D,EAAAA,KAAK,EAAG;AACJ8C,IAAAA,aAAa,EAAE;AADX,GA9DqB;AAiE7Bd,EAAAA,CAAC,EAAE;AACCR,IAAAA,IAAI,EAAC,GADN;AAEC2B,IAAAA,cAAc,EAAE,QAFjB;AAGCK,IAAAA,UAAU,EAAE;AAHb,GAjE0B;AAsE7BvB,EAAAA,OAAO,EAAC;AACJ2B,IAAAA,KAAK,EAAC9F,MAAM,CAAC+F,OADT;AAEJC,IAAAA,QAAQ,EAAE;AAFN,GAtEqB;AA0E7BnB,EAAAA,KAAK,EAAE;AACHiB,IAAAA,KAAK,EAAE9F,MAAM,CAACmG;AADX;AA1EsB,CAAlB,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, FlatList } from 'react-native';\r\nimport { Avatar, Text } from 'react-native-elements';\r\nimport Colors from '../constants/Colors';\r\nimport Fonts from '../constants/Fonts';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Layout from '../constants/Layout';\r\nimport { roundToTwo } from '../constants/Utils';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport CustomModal from '../components/CustomModal';\r\nimport Menu from '../components/Menu';\r\nimport { vibratePhone } from '../constants/Utils';\r\nimport  * as ImagePicker from 'expo-image-picker';\r\nimport * as Permissions from 'expo-permissions';\r\nimport Constants from 'expo-constants';\r\nimport { changeProfilePic as cPP } from '../redux/actions/auth';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nconst { width, height } = Layout.window\r\n\r\nconst UserScreen = (props) => {\r\n\r\n    const [item, setItem] = useState(null)\r\n    const [fullView, setFullView] = useState(false)\r\n    const [seeOptions, setSeeOptions] = useState(false)\r\n    const close_modal = () => {setSeeOptions(false)}\r\n    const posts = useSelector(state => state.items.items)\r\n    const user = useSelector(state => state.auth.user)\r\n    const count = useSelector(state => state.mis.count)\r\n    const likes = useSelector(state => state.mis.likes)\r\n    const {navigation} = props\r\n    const dispatch = useDispatch()\r\n\r\n    const changeProfilePic = async () => {\r\n            const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n            if(status != 'granted'){\r\n                alert('required')\r\n            }\r\n            else{\r\n                try{\r\n                    console.log('here')\r\n                    let result = await ImagePicker.launchImageLibraryAsync({\r\n                        mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n                        allowsEditing: true,\r\n                    });\r\n                    if(!result.cancelled){\r\n                        dispatch(cPP(result.uri))\r\n                    }\r\n                }\r\n                catch(E){\r\n                    console.log(E);\r\n                }\r\n            }\r\n       \r\n    }\r\n\r\n    if(!user){\r\n        return null\r\n    }\r\n    const redirect = (wURL, user) => {\r\n        setFullView(false)\r\n        setSeeOptions(false)\r\n        if(wURL)\r\n        {navigation.navigate('Website', {webName:wURL})}\r\n        else\r\n        {navigation.navigate('Profile', {user_id:user})}\r\n    }\r\n\r\n    return (\r\n        <LinearGradient style={{flex:1}} colors={Colors.userGradient}>\r\n        <CustomModal \r\n        item={item} \r\n        isVisible={fullView} \r\n        onBackButtonPress={()=>{setFullView(false)}} \r\n        onBackdropPress={()=>{setFullView(false)}} \r\n        redirect={redirect}\r\n        />\r\n        <Menu \r\n        item={item}\r\n        cm={close_modal}\r\n        useNativeDriver={true}\r\n        isVisible={seeOptions}\r\n        onBackButtonPress={()=>{setSeeOptions(false)}} \r\n        onBackdropPress={()=>{setSeeOptions(false)}} \r\n        />\r\n        <View style={styles.user}>\r\n            <View style={styles.pic}>\r\n            <TouchableOpacity onPress={changeProfilePic}>\r\n            <Avatar\r\n                source={{\r\n                    uri: user.image,\r\n                }}\r\n                showEditButton\r\n                rounded\r\n                size=\"large\"\r\n            />\r\n            </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.info}>\r\n                <View style={styles.name}>\r\n                    <Text style={styles.name_text} numberOfLines={1} ellipsizeMode='tail'>{user.name}</Text>\r\n                </View>\r\n                <View style={styles.count}>\r\n                    <View style={styles.c}>\r\n                    <Text style={styles.subtext} numberOfLines={1} ellipsizeMode='tail'>{count? count: 0}</Text>\r\n                    <Text style={styles.subtext}>Posts</Text>\r\n                    </View>\r\n                    <View style={styles.c}>\r\n                    <Text style={styles.subtext} numberOfLines={1} ellipsizeMode='tail'>{likes? likes:0}</Text>\r\n                    <Text style={styles.subtext}>Likes</Text>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        </View>\r\n        <View style={styles.additional}>\r\n            <Text style={styles.subtext} numberOfLines={1} ellipsizeMode='tail'>Born on: {user.dob}</Text>\r\n            <Text style={styles.subtext} numberOfLines={1} ellipsizeMode='tail'>Member since: {user.date_joined.slice(0,10)}</Text>\r\n        </View>\r\n        <View style={styles.posts}>\r\n        \r\n        \r\n        <FlatList data={posts} numColumns={2}\r\n                renderItem={({item})=>(\r\n                 <TouchableOpacity onPress={()=>{ setItem(item); setFullView(true); }} onLongPress={()=>{ setItem(item); setSeeOptions(true); vibratePhone(100);}}>\r\n                    <View style={styles.card} >\r\n                        <View style={styles.web_name}>\r\n                            <Text style={styles.title} numberOfLines={1} ellipsizeMode='tail'>{item.web_url}</Text>\r\n                        </View>\r\n                        <View style={styles.rating}>\r\n                            <Text style={styles.value}>{roundToTwo(item.total_rating_value)}</Text>\r\n                        </View>\r\n                    </View>\r\n                </TouchableOpacity>\r\n                )}\r\n                keyExtractor={item => item.post_id}\r\n                contentContainerStyle={{flexDirection: 'column'}}\r\n                \r\n        />       \r\n        \r\n        </View>\r\n<Loader />\r\n<Message />\r\n        </LinearGradient>\r\n    )\r\n}\r\n\r\nexport default UserScreen\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      flexDirection: 'row',\r\n      flexWrap: 'wrap',\r\n      justifyContent: \"center\",\r\n    },\r\n    card: {\r\n       width: width*0.42,\r\n       height: height*0.12,\r\n       borderRadius: 5,\r\n       backgroundColor: Colors.background,\r\n       margin: 10,\r\n       alignItems: 'center',\r\n       justifyContent: 'center',\r\n       alignContent: 'center',\r\n       overflow: 'hidden',\r\n       padding:5\r\n    },\r\n    web_name: {\r\n        flex:0.5,\r\n        alignItems: 'center',\r\n       justifyContent: 'center',\r\n    },\r\n    rating: {\r\n        flex:0.5,\r\n        alignItems: 'center',\r\n       justifyContent: 'center',\r\n    },\r\n    title: {\r\n        color:Colors.content,\r\n        fontSize: 13,\r\n        fontFamily: Fonts.text\r\n    },\r\n    user:{\r\n        flex:0.2,\r\n        flexDirection: 'row'\r\n    },\r\n    posts:{\r\n        flex:0.7,\r\n        alignItems: 'center',\r\n    },\r\n    additional:{\r\n        flex: 0.1,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-evenly',\r\n        flexDirection: 'row',\r\n    },\r\n    pic: {\r\n        flex: 0.3,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    info:{\r\n        flex:0.7,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-evenly'\r\n    },\r\n    name_text: {\r\n        color:Colors.content,\r\n        fontSize: 20,\r\n    },\r\n    count : {\r\n        flexDirection: 'row'\r\n    },\r\n    c: {\r\n        flex:0.5,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    subtext:{\r\n        color:Colors.content,\r\n        fontSize: 15,\r\n    },\r\n    value: {\r\n        color: Colors.textMuted,\r\n    },\r\n  });"]},"metadata":{},"sourceType":"module"}